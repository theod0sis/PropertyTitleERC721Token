
const solnSquareVerifier = require('./build/contracts/SolnSquareVerifier.json');
const HDWalletProvider = require("@truffle/hdwallet-provider");
const INFURA_KEY = "7f0de8691966404abb81982dbcfed525";
const MNEMONIC = "middle over spot safe pluck merry electric bounce into ivory claim room";
const web3 = require('web3')
const NFT_CONTRACT_ADDRESS = "0xA8C6E5c1054F04C7C44094FcA08deb4cA7f53701"
const OWNER_ADDRESS = "0xC8626Af6B0c8276bBE1fb34F652eaF1993d0e5e7"
const NETWORK = "rinkeby"
const NUM_TOKENS = 10


if (!MNEMONIC || !INFURA_KEY || !OWNER_ADDRESS || !NETWORK) {
    console.error("Please set a mnemonic, infura key, owner, network, and contract address.")
    return
}

const proofs = [
	{
        "proof": {	
            "a": ["0x1ba0df5159c4c75da8a30d34e28b0a2242b9634aed77c9b41b979e6081ed5033", "0x04a81e18c8c57362b000213bce6d533055ba4f830dc76abf9c5bf37907ffbdd0"],
            "b": [["0x272c1132c59a11b904df2e3921eaf7b40ce948a1a24e9b36dd6e2e04cc3e9560", "0x1535e1e6c5cb4d685ef68595487910d68d8813765f422b977b53e32f8c53fc94"], ["0x26e8a26d9bd754c038c42bb9b5b32b91a0c1463aba53b03eb8e224f1230f853a", "0x2c080f65faca972f26229da56b338fc12d62261f8626ec42659bc1090e7a983d"]],
            "c": ["0x08c833d09a989255fa84bd16e9b4374fbf2c59f92f8b67298771b72c03e56f7f", "0x2f85944aef8c9f217463077e0d8f85fdf5546b3b570820ade0cf9c95a3feb440"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000009", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    },
	{
        "proof": {
            "a": ["0x1d5f2cc6c3e464ee9c5e190b6fff14aad3002a4ba2e3637a0ecdb1ae15b72e9e", "0x01012087fbe1e8e708e34fd11d58f9378d5e074d72e135fdd7e0e204720a20d0"],
            "b": [["0x056b1bef4cd1a69a4fd0f32f724c7c6403e5db427ca96234269119267e3945d6", "0x0c3eba894c4be4f14e087dfea24ab73e8b3a1020f9e441207716a34d416256de"], ["0x0dee185e3c5d2f77b220f582b0a69cbca5a16e8770a43e005dbb3015b7b8c853", "0x1e7dbb1369a236e709e640a010db9d15c799efd7b67c804d57f229e44ccad4b1"]],
            "c": ["0x102eccc0225e2fa0de10b79b169c002041a64a06ab4bd9485a6750c4e65bc604", "0x28d653441db0d2efd52ce63fad1f4065cea1094db7bd71c05f910aa4421b86f0"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000010", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    },
	{
        "proof": {
            "a": ["0x128e71ca8caf6cacbfc6ad0432c216a1bb9e1477eb357cf2ae1dac26045dd38b", "0x2df7265ce88f2bce932a952f8108d7908ab698317bb4cc9e4514adb3f7f8463f"],
            "b": [["0x0be2711f6984844a352ff96fb9bf83bc04b4d48b3d00573781691128c2a51ca8", "0x132c525a6da94af3c5741df905c7b790fc6435124089ed45a297550150f8eafc"], ["0x2f262d9b5c131dd6eed418ffab966b2d02c8f6efc81072e1b1b3350475c8b1df", "0x0e22156bfa4b2e87e02d5cc51a5b86fce50090ce84deee15d72953975ff3e74b"]],
            "c": ["0x11ec975d8cc5084d7086af20c698efec67581c358890da4b9efdf5590bd56497", "0x1580876c00bc2ee39da0596522ed64797d3940edbd6312d2d1be0488db809019"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000024", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    },
	{
        "proof": {
            "a": ["0x04a2a6e21be60480803c475ef9495b4f38bc269fcba8f36dd0beb1db96f83771", "0x05b27473d37984466a4ca71c7f0138110fb8a6760afe20a2b2c2502ad986913f"],
            "b": [["0x03606a1ba1351204c5177655271fa757198fa3b29faddd553d07a0bd02e4a273", "0x072178ce7e17e09098c3580c4deb7b7ead45cd41203b48ef890dcf7d24542466"], ["0x249cf527d7ac60d447c74faf505e5014366d7bfb10e85257d6b85d7837f10035", "0x231ce26de8685fb436bac26bc9efd6b24dbd583d7494234ccedbd53cb3fe3dc6"]],
            "c": ["0x021105b1e6d5bdb4ec4d7057a50f2b1493fbf1543e6c024834da24594bc9012c", "0x0fa924b1d6cd00ad0de58d217cacf9838d71c8de0e92815ee0b32b423a8822ff"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000031", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    },
	{
        "proof": {
            "a": ["0x19551c6f45a11c1ddb849322613fd4ac8ee16e75eed4462405e8408a89e84645", "0x2e56ad17e4b4c4ef29c08df779e52cb28f3a68d413fc675d9762046fe4f5455b"],
            "b": [["0x290d72ee5bc309b988ae4ca5e725e397a264e25aed1a7ba441d8178433e290ef", "0x1a6a38c58d04bdc839b4f08f6a1a6b83488d4e5fb2a87175da000b745d1578a1"], ["0x095462df33eb01868fb509573bc6a2c93b4f437cceb2ded2688621cb2bde51e0", "0x2cecf375af9cbe9d4fd8bc3d4bc3a9a6b566605a2b0021211e598bd0be91d089"]],
            "c": ["0x22e5b809995da6f968160f2b65232dc1be74695f0e0fb070ded3da78e31a5fde", "0x10ec0dca40b90d19096fbdd3c05e90adf60b64fd87af6a485d4c214b76426b76"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000040", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    },
	{
        "proof": {
            "a": ["0x15eb1362ee372176aa2d271bc17276942a2a4b67e81b16ae416bf3eaac1b7e31", "0x2a9e81b6464e0f51fee6ca3f0acc2b6365110148ce7f918109979cbed7a4ac8a"],
            "b": [["0x0f5fe2479f04f8967c53a707684008c1076a2893248ae9576ecc7e1b95ab4826", "0x1c88e796e92438091c96207ab2f11d5113afcf1c76e482c4fe74a9103ffb767b"], ["0x04580dee551692ec698c73d9cca1de364f451578322dc121bec78bf664441043", "0x137a13a20de25ceeb4079f8b4f5552e101879e54bed8910e9be9a4904dec50a8"]],
            "c": ["0x287ebe5474c6855fb1d7e5e64cad9200b685b4a0d4a387adcaa1937190dbb16c", "0x29edac58c832d5e22ca092f36fb67f842c15b96a081c9813cf7a335326fec23f"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000051", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    },
	{
        "proof": {
            "a": ["0x271fa496ef9adfa3d7cda1f3c7376df9a136e767f5e687c6ac9b0cf0543bbb04", "0x1a1cf8d74af3f25a251f926300f678ce3bd1a67aedb4d81d8d30dee4c0346774"],
            "b": [["0x06f6425affd6076055997965625f4e0e6ec63454fa455b8bff6da90414bd705d", "0x0563ed346d5a35ad2c0d8c89c07364d5c5e376b7f4d2d3ec370aef2ae38096bb"], ["0x138872dc3d3b6ebcf8b0b789f2c47c5e4364a9f74d65eb440ec1cd06f82f72c5", "0x2dfb6214774254a840d38d3f276dcb20257febff754f5ed9453b7695c13dfb5c"]],
            "c": ["0x0422eba2cd789233ba5b0d547df96365acf9a89a5bf670344ea9b4e1a2c83739", "0x0039bf22968bdd25c488d57be673bba2b43c652fc2f3ec1a741e4234348b5c9f"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000064", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    },
	{
        "proof": {
            "a": ["0x0b09519614fe26736a37a3a6d5418a01a7e23d7a4db312554bc973eea3f32e3a", "0x1da3a133812af4badfc88941620b4d0e2ba4f53b0c1142b0d286df70c57bd861"],
            "b": [["0x13c37df5576ad81512291fc8f6192dd9c28aff8d53578ac4f4426297d6a7db25", "0x28592e50da25a0520a72824e5b99795551c7a48249bdf297a1f146b8f33a5e74"], ["0x0edeb2c84d7ff849d3f51d64820c67f67c1522ff223cf7da0e8f3860d456838c", "0x041d026937e6c3dbdb882393345ba7dc59229574f991a8cb27984c3749e74ea5"]],
            "c": ["0x1fd4713ef829b83e0423096ceeb4549cbc32e419ead528bfdd928c2a1af12da3", "0x157029393b81ed66f38daf543bdbb59313999980b3addb8077596c64725a28c7"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000079", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    },
	{
        "proof": {
            "a": ["0x2a2ac3c4f270178fca978268df6e5a810ec75c815658a8ccfac449e1ecfc55b7", "0x241f80eefaac933d5f39902bc6ab8da562ce577b5c5a71ec5b06893f69737263"],
            "b": [["0x0506efb8745c76f1aa2a2818d7694b1bf591cb615f690ffa260c06c37ca62242", "0x007668cb7ff526c8c9b8743055f4ef075050a0a102701a1b00d1bc3461a8216e"], ["0x070f11577667665e14c1a0a138979cb69c1fa9d828323613710b89a76e6d6cca", "0x279d7191d84a787f7175a1fe86cb9d932e216248f600dccf077eec319fbcf393"]],
            "c": ["0x16633e2d784c4aa2fb728949714c61111db2f507defda1666f945c3b28c76b42", "0x140f050b0da36de93529faa562f20b90d4e6ac711ac2c2f1e9950f88030fb71f"]
        },
        "inputs": ["0x0000000000000000000000000000000000000000000000000000000000000090", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    },
	{
        "proof": {
            "a": ["0x0016a7165873507d5ed4766e56bdf1a2e5ff788dbf76f4f1816380d2286a08df", "0x10b5057552152b7a68b3498ba8656aaa32f0532bb7d8a2c52b5a93bd2c92482a"],
            "b": [["0x20921ea89feb392e8e369a9f8d71622b1ad9ef38ee5b928da06c25e854d62be0", "0x04bd2b7121fab565365198198b46d1a769029a8524e6bd34ca599841403d5164"], ["0x082120cd5823d815f3ee050145a066e4c956bfb44adfc8bbd9880dc388bb6961", "0x0a782708d7ea2ef17debf7258c0b1d2866a30a6ffbdbe8305f67b75a2da364a5"]],
            "c": ["0x134c795e593a077574ee1e6483831d00b64e1ab8ea2aadad33f4b03964887c32", "0x0f4be8d0819e7dca3dbc1f144b4ca68331cee5d542e8fa7b64b0511166607a86"]
        },
        "inputs": ["0x00000000000000000000000000000000000000000000000000000000000000a9", "0x0000000000000000000000000000000000000000000000000000000000000001"]
    }
	]

async function main() {
    const provider = new HDWalletProvider(MNEMONIC, `https://${NETWORK}.infura.io/v3/${INFURA_KEY}`)
    const web3Instance = new web3( provider )

    if (NFT_CONTRACT_ADDRESS) {
        const nftContract = new web3Instance.eth.Contract(solnSquareVerifier.abi, NFT_CONTRACT_ADDRESS, { gasLimit: "1000000" })

        // Creatures issued directly to the owner.
        for (var i = 0; i < NUM_TOKENS; i++) {
            const result = await nftContract.methods.
				mintToken(OWNER_ADDRESS,i,proofs[i].proof.a,proofs[i].proof.b,proofs[i].proof.c,proofs[i].inputs).send({ from: OWNER_ADDRESS });
            
			console.log("Minted creature. Transaction: " + result.transactionHash)
        }
    }
}

main().then(res => {
	console.log(res);
})




